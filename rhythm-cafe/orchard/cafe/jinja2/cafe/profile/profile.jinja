{% from "cafe/base.jinja" import base with context %}
{% from "cafe/profile/layout.jinja" import layout %}

{% set content %}
    <div class="ppr">
        <form action="{{ url('cafe:profile') }}" method="post" class="ppr__form">
            {{ csrf_input }}
            <sl-input name="first_name" label="Name" required value="{{ request.user.first_name }}">
            </sl-input>
            <sl-button type="submit" class="ppr_button">Change name</sl-button>
        </form>
        <div class="ppr__spacer"></div>
        <p class="ppr__user_id">User id: {{ request.user.username }}</p>
    </div>
{% endset %}

{% call base(title="Rhythm Cafe") %}
    {% call layout(user=request.user, csrf_input=csrf_input) %}
        {{ content }}
    {% endcall %}
{% endcall %}

<style data-hoist="true">
    .ppr {
        height: 100%;
        display: flex;
        flex-direction: column;
    }

    .ppr__spacer {
        flex-grow: 1;
    }

    .ppr__form {
        display: flex;
        flex-direction: row;
        align-items: end;
    }

    .ppr_button {
        margin-left: 1rem;
    }

    .ppr__user_id {
        font-size: 0.875rem;
        font-style: italic;
        color: var(--sl-color-neutral-500);
        margin-bottom: 0.25rem;
    }
</style>